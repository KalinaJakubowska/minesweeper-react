(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{19:function(e,n,t){e.exports=t.p+"static/media/bomb.950a2bdb.ico"},32:function(e,n,t){e.exports=t(45)},45:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(16),c=t.n(a),u=t(6),i=t(5),l=t(3);function s(){var e=Object(i.a)(["\n  background-color: ",";\n  border: 2px solid ",";\n  color: ",";\n  padding: 10px;\n  margin-top: 10px;\n\n  &:hover {\n    filter: brightness(120%);\n    border-color: ",";\n  }\n  &:active {\n    filter: brightness(130%);\n  }\n"]);return s=function(){return e},e}function d(){var e=Object(i.a)(["\n  flex-grow: 1;\n  margin-left: 20px;\n"]);return d=function(){return e},e}function f(){var e=Object(i.a)(["\n  display: flex;\n  padding: 10px;\n"]);return f=function(){return e},e}function m(){var e=Object(i.a)(["\n  width: fit-content;\n  text-align: center;\n  border: 2px solid ",";\n  color: ",";\n  padding: 10px;\n  font-weight: bold;\n"]);return m=function(){return e},e}function b(){var e=Object(i.a)(["\n      display: none;\n    "]);return b=function(){return e},e}function p(){var e=Object(i.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: ",";\n  border: none;\n  border-top: 2px solid ",";\n  box-shadow: 0px 0px 10px 0px ",";\n  margin-top: 10px;\n\n  ","\n"]);return p=function(){return e},e}function g(){var e=Object(i.a)(["\n  width: 100%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  grid-gap: 10px;\n"]);return g=function(){return e},e}function v(){var e=Object(i.a)(["\n  width: 100%;\n  max-width: 500px;\n  margin: 0 auto 20px;\n  display: flex;\n  flex-direction: column;\n"]);return v=function(){return e},e}var h,x,O,j=l.default.div(v()),y=l.default.div(g()),w=l.default.fieldset(p(),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.shadow}),(function(e){return e.hidden&&Object(l.css)(b())})),k=l.default.legend(m(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first})),E=(l.default.label(f()),l.default.input(d()),l.default.button(s(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first}))),D=t(28),F=t(13),I=function(e,n){return[-1*n-1,-1*n,-1*n+1,-1,1,n-1,n,n+1].map((function(n){return n+e}))},C={easy:{name:"easy",rows:10,columns:10,bombs:10},medium:{name:"medium",rows:18,columns:18,bombs:40},expert:{name:"expert",rows:18,columns:32,bombs:99}},G=Object(F.b)({name:"gameData",initialState:{gameFields:[],gameLevel:localStorage.getItem("gameLevel")||"easy",columns:(null===(h=C[localStorage.getItem("gameLevel")])||void 0===h?void 0:h.columns)||C.easy.columns,rows:(null===(x=C[localStorage.getItem("gameLevel")])||void 0===x?void 0:x.rows)||C.easy.rows,bombsNumber:(null===(O=C[localStorage.getItem("gameLevel")])||void 0===O?void 0:O.bombs)||C.easy.bombs,isGameLost:!1,isGameWon:!1,firstID:!1},reducers:{setGameFields:function(e,n){var t=n.payload;e.gameFields=t},setIsGameLost:function(e,n){var t=n.payload;e.isGameLost=t},setIsGameWon:function(e,n){var t=n.payload;e.isGameWon=t},revealField:function(e,n){e.gameFields[n.payload].hidden=!1},prepareGame:function(e,n){var t=n.payload;t&&(e.gameLevel=t.name,e.columns=t.columns,e.rows=t.rows,e.bombsNumber=t.bombs),e.isGameLost=!1,e.isGameWon=!1,e.firstID=!1},revealAllBombs:function(e){e.gameFields.filter((function(e){return"bomb"===e.type})).forEach((function(e){return e.hidden=!1}))},setFirstID:function(e,n){var t=n.payload;e.firstID=t},revealAllEmptyFieldsInGroup:function(e,n){var t=e.gameFields,r=e.columns;!function e(n){!1===t[n].rightClicked&&(t[n].hidden=!1);var o,a=Object(D.a)(I(n,r));try{for(a.s();!(o=a.n()).done;){var c=o.value;"field"!==t[c].type||t[c].bombsAround||!t[c].hidden||t[c].rightClicked?t[c].hidden&&!t[c].rightClicked&&(t[c].hidden=!1):e(c)}}catch(u){a.e(u)}finally{a.f()}}(n.payload.id)},generateFieldsContent:function(e,n){for(var t=n.payload,r=e.columns*e.rows,o=I(t,e.columns),a=1;a<=e.bombsNumber;a++){for(var c=Math.floor(Math.random()*r);"field"!==e.gameFields[c].type||c===t||o.includes(c);)c=Math.floor(Math.random()*r);e.gameFields[c].type="bomb"}!function(){for(var n=function(n){return I(n,e.columns).map((function(n){return+("bomb"===e.gameFields[n].type)})).reduce((function(e,n){return e+n}))},t=0;t<r;t++)"field"===e.gameFields[t].type&&(e.gameFields[t].bombsAround=n(t))}()}}}),R=G.actions,S=R.setIsGameWon,B=R.setIsGameLost,L=R.setGameFields,z=R.revealField,A=R.prepareGame,M=R.setFirstID,N=R.revealAllBombs,W=R.revealAllEmptyFieldsInGroup,J=R.generateFieldsContent,K=function(e){return e.gameData},P=function(e){return e.gameData.firstID},T=function(e){return e.gameData.gameFields},$=function(e){return e.gameData.isGameLost},q=function(e){return e.gameData.isGameWon},H=function(e){return e.gameData.gameLevel},Q=function(e){return q(e)?0:K(e).bombsNumber-T(e).filter((function(e){return e.rightClicked})).length},U=G.reducer,V=function(){var e=Object(u.b)();return o.a.createElement(j,null,o.a.createElement(w,null,o.a.createElement(k,null,"Options"),o.a.createElement(y,null,o.a.createElement(E,{onClick:function(){return e(A(C.easy))}},"Easy"),o.a.createElement(E,{onClick:function(){return e(A(C.medium))}},"Medium"),o.a.createElement(E,{onClick:function(){return e(A(C.expert))}},"Expert")),o.a.createElement(E,{onClick:function(){return e(A())}},"Start new game")))},X=t(22),Y=t(20),Z=t(19),_=t.n(Z);function ee(){var e=Object(i.a)(["\n    background-image: url(",");\n    background-size: 25px;\n    background-repeat: no-repeat;\n    background-position: center;\n    "]);return ee=function(){return e},e}function ne(){var e=Object(i.a)(["\n        display: none;\n    "]);return ne=function(){return e},e}function te(){var e=Object(i.a)(["\n    display: block;\n    height: 40px;\n    width: 40px;\n    border-radius: 0;\n    background-color: ",";\n    border: 2px outset ",";\n    ","\n\n    ","\n"]);return te=function(){return e},e}function re(){var e=Object(i.a)(["\n        background-color: ",";\n    "]);return re=function(){return e},e}function oe(){var e=Object(i.a)(["\n        background-color: ",";\n        background-image: url(",");\n        background-size: 25px;\n        background-repeat: no-repeat;\n        background-position: center;\n    "]);return oe=function(){return e},e}function ae(){var e=Object(i.a)(["\n    background-color: ",";\n    font-size: 35px;\n    text-align: center;\n    overflow: hidden;\n    user-select: none;\n\n    ","\n\n    ","\n"]);return ae=function(){return e},e}function ce(){var e=Object(i.a)(["\n    width: fit-content;\n    margin: auto;\n    display: grid;\n    grid-template-columns: repeat(",", 40px);\n    grid-template-rows: repeat(",", 40px);\n"]);return ce=function(){return e},e}var ue=l.default.div(ce(),(function(e){return e.columns}),(function(e){return e.rows})),ie=l.default.div(ae(),(function(e){return e.theme.color.second}),(function(e){return"bomb"===e.type&&Object(l.css)(oe(),(function(e){var n=e.won,t=e.theme;return n?t.color.winBomb:t.color.loseBomb}),_.a)}),(function(e){return"border"===e.type&&Object(l.css)(re(),(function(e){return e.theme.color.first}))})),le=l.default.button(te(),(function(e){return e.theme.color.shadow}),(function(e){return e.theme.color.second}),(function(e){return e.hidden&&Object(l.css)(ne())}),(function(e){return e.rightClicked&&Object(l.css)(ee(),_.a)})),se=function(){var e=Object(u.c)(K),n=e.columns,t=e.rows,r=e.firstID,a=Object(u.c)(T),c=Object(u.c)($),i=Object(u.c)(q),l=Object(u.b)();return o.a.createElement(ue,{columns:n,rows:t},a.map((function(e){var t=e.bombsAround,u=e.type,s=e.hidden,d=e.id,f=e.rightClicked;return o.a.createElement(ie,{onDoubleClick:function(){return function(e){"field"!==a[e].type||function(e){return I(e,n).map((function(e){return+a[e].rightClicked})).reduce((function(e,n){return e+n}))}(e)!==a[e].bombsAround||a[e].rightClicked||l(W({id:e}))}(d)},onContextMenu:function(e){return e.preventDefault()},key:d,type:u,won:i},o.a.createElement(le,{hidden:!s,rightClicked:f,onClick:function(){return function(e){if(r||a[e].rightClicked){if(a[e].rightClicked)return;0===a[e].bombsAround&&"bomb"!==a[e].type?l(W({id:e})):l(z(e))}else l(M(e))}(d)},onContextMenu:function(e){return function(e,n){e.preventDefault(),l(L([].concat(Object(Y.a)(a.slice(0,n)),[Object(X.a)(Object(X.a)({},a[n]),{},{rightClicked:!a[n].rightClicked})],Object(Y.a)(a.slice(n+1)))))}(e,d)},disabled:c}),0===t||"border"===u||t)})))};function de(){var e=Object(i.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background-color: ",";\n    color: ",";\n    padding: 10px;\n"]);return de=function(){return e},e}var fe=l.default.footer(de(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.text})),me=function(){return o.a.createElement(fe,null,"Kalina Jakubowska 2021")},be=t(31),pe=Object(F.b)({name:"scoreBoard",initialState:{bestResult:JSON.parse(localStorage.getItem("bestResult"))||{easy:void 0,medium:void 0,expert:void 0}},reducers:{updateBestResult:function(e,n){var t=n.payload,r=t.result;switch(t.level){case"easy":(!e.bestResult.easy||+e.bestResult.easy>+r)&&(e.bestResult.easy=+r);break;case"medium":(!e.bestResult.medium||+e.bestResult.medium>+r)&&(e.bestResult.medium=+r);break;case"expert":(!e.bestResult.expert||+e.bestResult.expert>+r)&&(e.bestResult.expert=+r)}}}}),ge=pe.actions.updateBestResult,ve=function(e){return e.scoreBoardData.bestResult},he=pe.reducer;function xe(){var e=Object(i.a)(["\n    font-size: 40px;\n    margin: 10px auto;\n    border-right: 3px solid teal;\n    border-left: 3px solid teal;\n    padding: 0px 20px;\n"]);return xe=function(){return e},e}var Oe=l.default.p(xe()),je=function(){var e=Object(u.c)(H),n=Object(u.c)(q),t=Object(u.c)($),a=Object(u.c)(K).firstID,c=Object(r.useState)({startDate:0,endDate:0}),i=Object(be.a)(c,2),l=i[0],s=i[1],d=Object(r.useRef)(null),f=Object(u.b)();return Object(r.useEffect)((function(){(n||t)&&(clearInterval(d.current),n&&f(ge({result:(l.endDate-l.startDate)/1e3,level:e})))}),[n,t]),Object(r.useEffect)((function(){if(a){var e=new Date;d.current=setInterval((function(){s({startDate:e,endDate:new Date})}),10)}else s({startDate:0,endDate:0});return function(){return clearInterval(d.current)}}),[a]),o.a.createElement(Oe,null,((l.endDate-l.startDate)/1e3).toFixed(2))};function ye(){var e=Object(i.a)(["\n    margin: auto;\n    font-size: 35px;\n"]);return ye=function(){return e},e}function we(){var e=Object(i.a)(["\n    display: grid;\n    grid-template-columns: 20% 1fr 20%;\n    margin: 0 auto;\n    width: ","px;\n    border: 20px solid ",";\n    border-bottom: none;\n    background: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace;\n    font-weight: bold;\n"]);return we=function(){return e},e}var ke=l.default.div(we(),(function(e){return 40*e.columns}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),Ee=l.default.p(ye()),De=function(){var e=Object(u.c)(K).columns,n=Object(u.c)(Q);return o.a.createElement(ke,{columns:e},o.a.createElement(Ee,null,n),o.a.createElement(je,null),o.a.createElement(Ee,null))};function Fe(){var e=Object(i.a)(["\n  font-size: 20px;\n"]);return Fe=function(){return e},e}function Ie(){var e=Object(i.a)(["\n  color: teal;\n  border-bottom: 2px solid teal;\n  border-top: 2px solid teal;\n  padding: 10px;\n"]);return Ie=function(){return e},e}function Ce(){var e=Object(i.a)(["\n  width: 300px;\n  padding: 10px;\n  text-align: center;\n"]);return Ce=function(){return e},e}var Ge=l.default.div(Ce()),Re=l.default.h2(Ie()),Se=l.default.p(Fe()),Be=function(){var e,n=Object(u.c)(ve),t=Object(u.c)(H);return o.a.createElement(Ge,null,o.a.createElement(Re,null,"Best time"),o.a.createElement(Se,null,(null===(e=n[t])||void 0===e?void 0:e.toFixed(2))||"---"))};function Le(){var e=Object(i.a)(["\n  display: grid;\n  grid-template-columns: 1fr auto;\n"]);return Le=function(){return e},e}var ze=l.default.div(Le()),Ae=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(A())}),[e]),o.a.createElement(ze,null,o.a.createElement("div",null,o.a.createElement(V,null),o.a.createElement(De,null),o.a.createElement(se,null),o.a.createElement(me,null)),o.a.createElement(Be,null))};function Me(){var e=Object(i.a)(["\nhtml {\n  box-sizing: border-box;\n}\n\n*, ::before, ::after {\n  box-sizing: inherit;\n}\n\nbody {\n  font-family: 'Montserrat', sans-serif;\n  min-height: 100vh;\n  position: relative;\n  font-size: 16px;\n  padding: 20px 20px 70px;\n  background-color: ","\n}\n"]);return Me=function(){return e},e}var Ne=Object(l.createGlobalStyle)(Me(),(function(e){return e.theme.color.second})),We=t(29),Je={color:{first:"#008080",second:"#ffffff",text:"#eeeeee",shadow:"#cccccc",loseBomb:"#FF0000",winBomb:"#008000"}};var Ke=function(){return o.a.createElement(l.ThemeProvider,{theme:Je},o.a.createElement(We.Normalize,null),o.a.createElement(Ne,null),o.a.createElement(Ae,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pe=t(30),Te=t(8),$e=t.n(Te),qe=t(7),He=$e.a.mark(_e),Qe=$e.a.mark(en),Ue=$e.a.mark(nn),Ve=$e.a.mark(tn),Xe=$e.a.mark(rn),Ye=$e.a.mark(on),Ze=function(e,n){for(var t=[],r=function(e){var n=e.type,r=e.hidden;t.push({id:t.length,type:n,hidden:r,bombsAround:0,rightClicked:!1})},o=0;o<e;o++)for(var a=0;a<n;a++)r(0===a||a===n-1||0===o||o===e-1?{type:"border",hidden:!1}:{type:"field",hidden:!0});return t};function _e(){var e,n,t;return $e.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(qe.c)(K);case 2:if(e=r.sent,n=e.bombsNumber,!(t=e.gameFields).filter((function(e){return"bomb"===e.type})).find((function(e){return!e.hidden}))){r.next=12;break}return r.next=8,Object(qe.b)(B(!0));case 8:return r.next=10,Object(qe.b)(N());case 10:r.next=17;break;case 12:if(t.filter((function(e){return e.hidden})).length!==n){r.next=17;break}return r.next=15,Object(qe.b)(S(!0));case 15:return r.next=17,Object(qe.b)(N());case 17:case"end":return r.stop()}}),He)}function en(){var e;return $e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(qe.c)(P);case 2:return e=n.sent,n.next=5,Object(qe.b)(J(e));case 5:return n.next=7,Object(qe.b)(W({id:e}));case 7:case"end":return n.stop()}}),Qe)}function nn(e){var n,t,r,o;return $e.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(qe.c)(H);case 2:return n=a.sent,a.next=5,e.payload?e.payload.rows:C[n].rows;case 5:return t=a.sent,a.next=8,e.payload?e.payload.columns:C[n].columns;case 8:return r=a.sent,a.next=11,Ze(t,r);case 11:return o=a.sent,a.next=14,Object(qe.b)(L(o));case 14:case"end":return a.stop()}}),Ue)}function tn(){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.d)(z.type,_e);case 2:return e.next=4,Object(qe.d)(W.type,_e);case 4:case"end":return e.stop()}}),Ve)}function rn(){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.d)(M.type,en);case 2:case"end":return e.stop()}}),Xe)}function on(){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.d)(A.type,nn);case 2:case"end":return e.stop()}}),Ye)}var an=$e.a.mark(cn);function cn(){return $e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(qe.a)([tn(),rn(),on()]);case 2:case"end":return e.stop()}}),an)}var un=Object(Pe.a)(),ln=Object(F.a)({reducer:{gameData:U,scoreBoardData:he},middleware:[un]});un.run(cn),ln.subscribe((function(){localStorage.setItem("gameLevel",ln.getState().gameData.gameLevel),localStorage.setItem("bestResult",JSON.stringify(ln.getState().scoreBoardData.bestResult))}));var sn=ln;c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:sn},o.a.createElement(Ke,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.29b51177.chunk.js.map