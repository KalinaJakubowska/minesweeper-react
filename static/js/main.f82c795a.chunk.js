(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{20:function(e,n,t){e.exports=t.p+"static/media/bomb.950a2bdb.ico"},31:function(e,n,t){e.exports=t(44)},44:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(16),i=t.n(a),c=t(10),u=t(6),l=t(5),s=t(4);function m(){var e=Object(l.a)(["\n    text-align: center;\n"]);return m=function(){return e},e}function d(){var e=Object(l.a)(["\n    background-color: ",";\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    margin-top: 10px;\n\n    &:hover {\n        filter: brightness(120%);\n        border-color: ",";\n    }\n    &:active {\n        filter: brightness(130%);\n    }\n"]);return d=function(){return e},e}function f(){var e=Object(l.a)(["\n    flex-grow: 1;\n    margin-left: 20px;\n"]);return f=function(){return e},e}function b(){var e=Object(l.a)(["\n    display: flex;\n    padding: 10px;\n"]);return b=function(){return e},e}function p(){var e=Object(l.a)(["\n    width: fit-content;\n    text-align: center;\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    font-weight: bold;\n"]);return p=function(){return e},e}function g(){var e=Object(l.a)(["\n        display: none;\n    "]);return g=function(){return e},e}function h(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border: none;\n    border-top: 2px solid ",";\n    box-shadow: 0px 0px 10px 0px ",";\n    margin-top: 10px;\n\n    ","\n"]);return h=function(){return e},e}function v(){var e=Object(l.a)(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-gap: 10px;\n"]);return v=function(){return e},e}function x(){var e=Object(l.a)(["\n    width: 100%;\n    max-width: 500px;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n"]);return x=function(){return e},e}var O=s.d.form(x()),j=s.d.div(v()),w=s.d.fieldset(h(),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.shadow}),(function(e){return e.hidden&&Object(s.c)(g())})),y=s.d.legend(p(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first})),k=s.d.label(b()),E=s.d.input(f()),C=s.d.button(d(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),L=s.d.span(m()),F=function(e,n){var t=Object(r.useState)((function(){return null===localStorage.getItem(e)?n:JSON.parse(localStorage.getItem(e))})),o=Object(c.a)(t,2),a=o[0],i=o[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[a,e]),[a,i]},D=t(29),I=t(18),G=function(e,n){return[-1*n-1,-1*n,-1*n+1,-1,1,n-1,n,n+1].map((function(n){return n+e}))},S=Object(I.b)({name:"gameData",initialState:{gameFields:[],gameLineColumns:localStorage.getItem("innerLineColumns")?JSON.parse(+localStorage.getItem("innerLineColumns")+2):10,gameLineRows:localStorage.getItem("innerLineRows")?JSON.parse(+localStorage.getItem("innerLineRows")+2):10,bombsNumber:JSON.parse(localStorage.getItem("bombsNumberForm"))||10,isGameLost:!1,isGameWon:!1,firstID:!1},reducers:{setGameFields:function(e,n){var t=n.payload;e.gameFields=t},setIsGameLost:function(e,n){var t=n.payload;e.isGameLost=t},setIsGameWon:function(e,n){var t=n.payload;e.isGameWon=t},revealField:function(e,n){e.gameFields[n.payload].hidden=!1},setGameProperties:function(e,n){var t=n.payload,r=t.bombsNumber,o=t.gameLineColumns,a=t.gameLineRows;e.gameLineColumns=o,e.gameLineRows=a,e.bombsNumber=r,e.isGameLost=!1,e.isGameWon=!1,e.firstID=!1},revealAllBombs:function(e){e.gameFields.filter((function(e){return"bomb"===e.type})).forEach((function(e){return e.hidden=!1}))},setFirstID:function(e,n){var t=n.payload;e.firstID=t},generateEmptyFields:function(e){var n=function(n){var t=n.type,r=n.hidden;e.gameFields.push({id:e.gameFields.length,type:t,hidden:r,bombsAround:0,rightClicked:!1})};e.gameFields=[];for(var t=0;t<e.gameLineRows;t++)for(var r=0;r<e.gameLineColumns;r++)0===r||r===e.gameLineColumns-1||0===t||t===e.gameLineRows-1?n({type:"border",hidden:!1}):n({type:"field",hidden:!0})},revealAllEmptyFieldsInGroup:function(e,n){var t=e.gameFields,r=e.gameLineColumns;!function e(n){!1===t[n].rightClicked&&(t[n].hidden=!1);var o,a=Object(D.a)(G(n,r));try{for(a.s();!(o=a.n()).done;){var i=o.value;"field"!==t[i].type||t[i].bombsAround||!t[i].hidden||t[i].rightClicked?t[i].hidden&&!t[i].rightClicked&&(t[i].hidden=!1):e(i)}}catch(c){a.e(c)}finally{a.f()}}(n.payload.id)},generateFieldsContent:function(e,n){for(var t=n.payload,r=e.gameLineColumns*e.gameLineRows,o=G(t,e.gameLineColumns),a=1;a<=e.bombsNumber;a++){for(var i=Math.floor(Math.random()*r);"field"!==e.gameFields[i].type||i===t||o.includes(i);)i=Math.floor(Math.random()*r);e.gameFields[i].type="bomb"}!function(){for(var n=function(n){return G(n,e.gameLineColumns).map((function(n){return+("bomb"===e.gameFields[n].type)})).reduce((function(e,n){return e+n}))},t=0;t<r;t++)"field"===e.gameFields[t].type&&(e.gameFields[t].bombsAround=n(t))}()}}}),N=S.actions,R=N.setIsGameWon,A=N.setIsGameLost,B=(N.setBombsNumber,N.setGameLineColumns,N.setGameLineRows,N.setGameFields),M=N.revealField,z=N.setGameProperties,J=N.setFirstID,W=N.revealAllBombs,q=N.generateEmptyFields,P=N.revealAllEmptyFieldsInGroup,K=N.generateFieldsContent,$=function(e){return e.gameData},H=function(e){return e.gameData.firstID},Q=function(e){return e.gameData.gameFields},T=function(e){return e.gameData.isGameLost},U=function(e){return e.gameData.isGameWon},V=function(e){return U(e)?0:$(e).bombsNumber-Q(e).filter((function(e){return e.rightClicked})).length},X=S.reducer,Y=function(){var e=F("innerLineColumns",8),n=Object(c.a)(e,2),t=n[0],r=n[1],a=F("innerLineRows",8),i=Object(c.a)(a,2),l=i[0],s=i[1],m=F("bombsNumberForm",10),d=Object(c.a)(m,2),f=d[0],b=d[1],p=F("isDisabled",!0),g=Object(c.a)(p,2),h=g[0],v=g[1],x=t+2,D=l+2,I=Object(u.b)(),G=function(e,n,t){v(!0),r(e),s(n),b(t)};return o.a.createElement(O,{onSubmit:function(e){e.preventDefault(),I(z({bombsNumber:f,gameLineColumns:x,gameLineRows:D})),I(q())}},o.a.createElement(C,null,"Start new game"),o.a.createElement(w,null,o.a.createElement(y,null,"Options"),o.a.createElement(j,null,o.a.createElement(C,{onClick:function(){return G(8,8,10)}},"Easy"),o.a.createElement(C,{onClick:function(){return G(16,16,40)}},"Medium"),o.a.createElement(C,{onClick:function(){return G(30,16,99)}},"Expert")),o.a.createElement(k,null,"Columns",o.a.createElement(E,{disabled:h,required:!0,type:"number",step:"1",min:"5",max:"30",value:t,onChange:function(e){var n=e.target;return r(+n.value)},name:"columnsNumber"})),o.a.createElement(k,null,"Rows",o.a.createElement(E,{disabled:h,required:!0,type:"number",step:"1",min:"5",max:"16",value:l,onChange:function(e){var n=e.target;return s(+n.value)},name:"rowsNumber"})),o.a.createElement(k,null,"Bombs",o.a.createElement(E,{disabled:h,required:!0,type:"number",step:"1",min:"5",max:"300",value:f,onChange:function(e){var n=e.target;return b(+n.value)},name:"bombsNumber"})),o.a.createElement(L,null)))},Z=t(23),_=t(21),ee=t(20),ne=t.n(ee);function te(){var e=Object(l.a)(["\n    background-image: url(",");\n    background-size: 25px;\n    background-repeat: no-repeat;\n    background-position: center;\n    "]);return te=function(){return e},e}function re(){var e=Object(l.a)(["\n        display: none;\n    "]);return re=function(){return e},e}function oe(){var e=Object(l.a)(["\n    display: block;\n    height: 40px;\n    width: 40px;\n    border-radius: 0;\n    background-color: ",";\n    border: 2px outset ",";\n    ","\n\n    ","\n"]);return oe=function(){return e},e}function ae(){var e=Object(l.a)(["\n        background-color: ",";\n    "]);return ae=function(){return e},e}function ie(){var e=Object(l.a)(["\n        background-color: ",";\n        background-image: url(",");\n        background-size: 25px;\n        background-repeat: no-repeat;\n        background-position: center;\n    "]);return ie=function(){return e},e}function ce(){var e=Object(l.a)(["\n    background-color: ",";\n    font-size: 35px;\n    text-align: center;\n    overflow: hidden;\n    user-select: none;\n\n    ","\n\n    ","\n"]);return ce=function(){return e},e}function ue(){var e=Object(l.a)(["\n    width: fit-content;\n    margin: auto;\n    display: grid;\n    grid-template-columns: repeat(",", 40px);\n    grid-template-rows: repeat(",", 40px);\n"]);return ue=function(){return e},e}var le=s.d.div(ue(),(function(e){return e.columns}),(function(e){return e.rows})),se=s.d.div(ce(),(function(e){return e.theme.color.second}),(function(e){return"bomb"===e.type&&Object(s.c)(ie(),(function(e){var n=e.won,t=e.theme;return n?t.color.winBomb:t.color.loseBomb}),ne.a)}),(function(e){return"border"===e.type&&Object(s.c)(ae(),(function(e){return e.theme.color.first}))})),me=s.d.button(oe(),(function(e){return e.theme.color.shadow}),(function(e){return e.theme.color.second}),(function(e){return e.hidden&&Object(s.c)(re())}),(function(e){return e.rightClicked&&Object(s.c)(te(),ne.a)})),de=function(){var e=Object(u.c)($),n=e.gameLineColumns,t=e.gameLineRows,r=e.firstID,a=Object(u.c)(Q),i=Object(u.c)(T),c=Object(u.c)(U),l=Object(u.b)();return o.a.createElement(le,{columns:n,rows:t},a.map((function(e){var t=e.bombsAround,u=e.type,s=e.hidden,m=e.id,d=e.rightClicked;return o.a.createElement(se,{onDoubleClick:function(){return function(e){"field"!==a[e].type||function(e){return G(e,n).map((function(e){return+a[e].rightClicked})).reduce((function(e,n){return e+n}))}(e)!==a[e].bombsAround||a[e].rightClicked||l(P({id:e}))}(m)},onContextMenu:function(e){return e.preventDefault()},key:m,type:u,won:c},o.a.createElement(me,{hidden:!s,rightClicked:d,onClick:function(){return function(e){if(r||a[e].rightClicked){if(a[e].rightClicked)return;0===a[e].bombsAround&&"bomb"!==a[e].type?l(P({id:e})):l(M(e))}else l(J(e))}(m)},onContextMenu:function(e){return function(e,n){e.preventDefault(),l(B([].concat(Object(_.a)(a.slice(0,n)),[Object(Z.a)(Object(Z.a)({},a[n]),{},{rightClicked:!a[n].rightClicked})],Object(_.a)(a.slice(n+1)))))}(e,m)},disabled:i}),0===t||"border"===u||t)})))};function fe(){var e=Object(l.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background-color: ",";\n    color: ",";\n    padding: 10px;\n"]);return fe=function(){return e},e}var be=s.d.footer(fe(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.text})),pe=function(){return o.a.createElement(be,null,"Kalina Jakubowska 2020")};function ge(){var e=Object(l.a)(["\n    font-size: 40px;\n    margin: 10px auto;\n    border-right: 3px solid teal;\n    border-left: 3px solid teal;\n    padding: 0px 20px;\n"]);return ge=function(){return e},e}var he=s.d.p(ge()),ve=function(){var e=Object(u.c)(U),n=Object(u.c)(T),t=Object(u.c)($).firstID,a=Object(r.useState)({startDate:0,endDate:0}),i=Object(c.a)(a,2),l=i[0],s=i[1],m=Object(r.useRef)(null);return Object(r.useEffect)((function(){(e||n)&&clearInterval(m.current)}),[e,n]),Object(r.useEffect)((function(){if(t){var e=new Date;m.current=setInterval((function(){s({startDate:e,endDate:new Date})}),10)}else s({startDate:0,endDate:0});return function(){return clearInterval(m.current)}}),[t]),o.a.createElement(he,null,((l.endDate-l.startDate)/1e3).toFixed(2))};function xe(){var e=Object(l.a)(["\n    margin: auto;\n    font-size: 35px;\n"]);return xe=function(){return e},e}function Oe(){var e=Object(l.a)(["\n    display: grid;\n    grid-template-columns: 20% 1fr 20%;\n    margin: 0 auto;\n    width: ","px;\n    border: 20px solid ",";\n    border-bottom: none;\n    background: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace;\n    font-weight: bold;\n"]);return Oe=function(){return e},e}var je=s.d.div(Oe(),(function(e){return 40*e.columns}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),we=s.d.p(xe()),ye=function(){var e=Object(u.c)($).gameLineColumns,n=Object(u.c)(V);return o.a.createElement(je,{columns:e},o.a.createElement(we,null,n),o.a.createElement(ve,null),o.a.createElement(we,null))};function ke(){var e=Object(l.a)(["\nhtml {\n  box-sizing: border-box;\n}\n\n*, ::before, ::after {\n  box-sizing: inherit;\n}\n\nbody {\n  font-family: 'Montserrat', sans-serif;\n  min-height: 100vh;\n  position: relative;\n  font-size: 16px;\n  padding: 50px 0 70px;\n  background-color: ","\n}\n"]);return ke=function(){return e},e}var Ee=Object(s.b)(ke(),(function(e){return e.theme.color.second})),Ce={color:{first:"#008080",second:"#ffffff",text:"#eeeeee",shadow:"#cccccc",loseBomb:"#FF0000",winBomb:"#008000"}};var Le=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(q())}),[e]),o.a.createElement(s.a,{theme:Ce},o.a.createElement(Ee,null),o.a.createElement(ye,null),o.a.createElement(de,null),o.a.createElement(Y,null),o.a.createElement(pe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Fe=t(30),De=t(9),Ie=t.n(De),Ge=t(7),Se=Ie.a.mark(Be),Ne=Ie.a.mark(Me),Re=Ie.a.mark(ze),Ae=Ie.a.mark(Je);function Be(){var e,n,t;return Ie.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ge.c)($);case 2:if(e=r.sent,n=e.bombsNumber,!(t=e.gameFields).filter((function(e){return"bomb"===e.type})).find((function(e){return!1===e.hidden}))){r.next=12;break}return r.next=8,Object(Ge.b)(A(!0));case 8:return r.next=10,Object(Ge.b)(W());case 10:r.next=17;break;case 12:if(t.filter((function(e){return e.hidden})).length!==n){r.next=17;break}return r.next=15,Object(Ge.b)(R(!0));case 15:return r.next=17,Object(Ge.b)(W());case 17:case"end":return r.stop()}}),Se)}function Me(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.d)(M.type,Be);case 2:return e.next=4,Object(Ge.d)(P.type,Be);case 4:case"end":return e.stop()}}),Ne)}function ze(){var e;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ge.c)(H);case 2:return e=n.sent,n.next=5,Object(Ge.b)(K(e));case 5:return n.next=7,Object(Ge.b)(P({id:e}));case 7:case"end":return n.stop()}}),Re)}function Je(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.d)(J.type,ze);case 2:case"end":return e.stop()}}),Ae)}var We=Ie.a.mark(qe);function qe(){return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ge.a)([Me(),Je()]);case 2:case"end":return e.stop()}}),We)}var Pe=Object(Fe.a)(),Ke=Object(I.a)({reducer:{gameData:X},middleware:[Pe]});Pe.run(qe);var $e=Ke;i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:$e},o.a.createElement(Le,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.f82c795a.chunk.js.map