(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{15:function(e,n,t){e.exports=t.p+"static/media/ico.950a2bdb.ico"},23:function(e,n,t){e.exports=t(35)},35:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(12),c=t.n(a),i=t(7),u=t(3),l=t(2),f=t(1);function d(){var e=Object(l.a)(["\n    text-align: center;\n"]);return d=function(){return e},e}function s(){var e=Object(l.a)(["\n    background-color: ",";\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    margin-top: 10px;\n\n    &:hover {\n        filter: brightness(120%);\n        border-color: ",";\n    }\n    &:active {\n        filter: brightness(130%);\n    }\n"]);return s=function(){return e},e}function m(){var e=Object(l.a)(["\n    flex-grow: 1;\n    margin-left: 20px;\n"]);return m=function(){return e},e}function b(){var e=Object(l.a)(["\n    display: flex;\n    padding: 10px;\n"]);return b=function(){return e},e}function p(){var e=Object(l.a)(["\n    width: fit-content;\n    text-align: center;\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    font-weight: bold;\n"]);return p=function(){return e},e}function g(){var e=Object(l.a)(["\n        display: none;\n    "]);return g=function(){return e},e}function h(){var e=Object(l.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border: none;\n    border-top: 2px solid ",";\n    box-shadow: 0px 0px 10px 0px ",";\n    margin-top: 10px;\n\n    ","\n"]);return h=function(){return e},e}function v(){var e=Object(l.a)(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    grid-gap: 10px;\n"]);return v=function(){return e},e}function O(){var e=Object(l.a)(["\n    width: 100%;\n    max-width: 500px;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n"]);return O=function(){return e},e}var j=f.d.form(O()),x=f.d.div(v()),w=f.d.fieldset(h(),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.shadow}),(function(e){return e.hidden&&Object(f.c)(g())})),k=f.d.legend(p(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first})),y=f.d.label(b()),E=f.d.input(m()),C=f.d.button(s(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),L=f.d.span(d()),D=function(e,n){var t=Object(r.useState)((function(){return null===localStorage.getItem(e)?n:JSON.parse(localStorage.getItem(e))})),o=Object(i.a)(t,2),a=o[0],c=o[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[a]),[a,c]},G=t(13),N=Object(G.b)({name:"gameData",initialState:{gameFields:[],gameLineColumns:JSON.parse(+localStorage.getItem("innerLineColumns")+2)||10,gameLineRows:JSON.parse(+localStorage.getItem("innerLineRows")+2)||10,bombsNumber:JSON.parse(localStorage.getItem("bombsNumberForm"))||10,isGameLost:!1,isGameWon:!1},reducers:{setGameFields:function(e,n){var t=n.payload;e.gameFields=t},setIsGameLost:function(e,n){var t=n.payload;e.isGameLost=t},setIsGameWon:function(e,n){var t=n.payload;e.isGameWon=t},revealField:function(e,n){e.gameFields[n.payload].hidden=!1},setGameProperties:function(e,n){var t=n.payload,r=t.bombsNumber,o=t.gameLineColumns,a=t.gameLineRows;e.gameLineColumns=o,e.gameLineRows=a,e.bombsNumber=r,e.isGameLost=!1,e.isGameWon=!1},revealAllBombs:function(e){e.gameFields.filter((function(e){return"bomb"===e.type})).forEach((function(e){return e.hidden=!1}))}}}),S=N.actions,z=S.setIsGameWon,I=S.setIsGameLost,F=(S.setBombsNumber,S.setGameLineColumns,S.setGameLineRows,S.setGameFields),R=S.revealField,M=S.setGameProperties,B=S.revealAllBombs,A=function(e){return e.gameData},J=function(e){return e.gameData.gameFields},W=function(e){return e.gameData.isGameLost},q=function(e){return e.gameData.isGameWon},P=function(e){return q(e)?0:A(e).bombsNumber-J(e).filter((function(e){return e.rightClicked})).length},K=function(e){return!J(e).filter((function(e){return"border"!==e.type&&!1===e.hidden})).length},X=N.reducer,Z=[],$=function(e){Z.push({id:Z.length,type:e[0],hidden:e[1],bombsAround:0,rightClicked:!1})},H=function(e,n){Z=[];for(var t=0;t<n;t++)for(var r=0;r<e;r++)$(0===r||r===e-1||0===t||t===n-1?["border",!1]:["field",!0]);return Z},Q=function(){var e=D("innerLineColumns",8),n=Object(i.a)(e,2),t=n[0],r=n[1],a=D("innerLineRows",8),c=Object(i.a)(a,2),l=c[0],f=c[1],d=D("bombsNumberForm",10),s=Object(i.a)(d,2),m=s[0],b=s[1],p=D("isDisabled",!0),g=Object(i.a)(p,2),h=g[0],v=g[1],O=t+2,G=l+2,N=Object(u.b)(),S=function(e,n,t,o){if(4===o)return v(!1),0;v(!0),r(e),f(n),b(t)};return o.a.createElement(j,{onSubmit:function(e){e.preventDefault(),N(M({bombsNumber:m,gameLineColumns:O,gameLineRows:G})),N(F(H(O,G)))}},o.a.createElement(C,null,"Rozpocznij now\u0105 gr\u0119"),o.a.createElement(w,null,o.a.createElement(k,null,"Zaawansowane opcje"),o.a.createElement(x,null,o.a.createElement(C,{onClick:function(){return S(8,8,10,1)}},"Easy"),o.a.createElement(C,{onClick:function(){return S(16,16,40,2)}},"Medium"),o.a.createElement(C,{onClick:function(){return S(30,16,99,3)}},"Expert"),o.a.createElement(C,{disabled:!0,onClick:function(){return S(8,8,10,4)}},"Custom")),o.a.createElement(y,null,"Liczba kolumn",o.a.createElement(E,{disabled:h,required:!0,type:"number",step:"1",min:"5",max:"30",value:t,onChange:function(e){var n=e.target;return r(+n.value)},name:"columnsNumber"})),o.a.createElement(y,null,"Liczba wierszy",o.a.createElement(E,{disabled:h,required:!0,type:"number",step:"1",min:"5",max:"16",value:l,onChange:function(e){var n=e.target;return f(+n.value)},name:"rowsNumber"})),o.a.createElement(y,null,"Liczba bomb",o.a.createElement(E,{disabled:h,required:!0,type:"number",step:"1",min:"5",max:"300",value:m,onChange:function(e){var n=e.target;return b(+n.value)},name:"bombsNumber"})),o.a.createElement(L,null)))},T=t(22),U=t(6),V=t(4),Y=t(15),_=t.n(Y);function ee(){var e=Object(l.a)(["\n    background-image: url(",");\n    background-size: 25px;\n    background-repeat: no-repeat;\n    background-position: center;\n    "]);return ee=function(){return e},e}function ne(){var e=Object(l.a)(["\n        display: none;\n    "]);return ne=function(){return e},e}function te(){var e=Object(l.a)(["\n    display: block;\n    height: 40px;\n    width: 40px;\n    border-radius: 0;\n    background-color: ",";\n    border: 2px outset ",";\n    ","\n\n    ","\n"]);return te=function(){return e},e}function re(){var e=Object(l.a)(["\n        background-color: ",";\n    "]);return re=function(){return e},e}function oe(){var e=Object(l.a)(["\n        background-color: ",";\n        background-image: url(",");\n        background-size: 25px;\n        background-repeat: no-repeat;\n        background-position: center;\n    "]);return oe=function(){return e},e}function ae(){var e=Object(l.a)(["\n    background-color: ",";\n    font-size: 35px;\n    text-align: center;\n    overflow: hidden;\n    user-select: none;\n\n    ","\n\n    ","\n"]);return ae=function(){return e},e}function ce(){var e=Object(l.a)(["\n    width: fit-content;\n    margin: auto;\n    display: grid;\n    grid-template-columns: repeat(",", 40px);\n    grid-template-rows: repeat(",", 40px);\n"]);return ce=function(){return e},e}var ie=f.d.div(ce(),(function(e){return e.columns}),(function(e){return e.rows})),ue=f.d.div(ae(),(function(e){return e.theme.color.second}),(function(e){return"bomb"===e.type&&Object(f.c)(oe(),(function(e){var n=e.won,t=e.theme;return n?t.color.winBomb:t.color.loseBomb}),_.a)}),(function(e){return"border"===e.type&&Object(f.c)(re(),(function(e){return e.theme.color.first}))})),le=f.d.button(te(),(function(e){return e.theme.color.shadow}),(function(e){return e.theme.color.second}),(function(e){return e.hidden&&Object(f.c)(ne())}),(function(e){return e.rightClicked&&Object(f.c)(ee(),_.a)})),fe=function(){var e=Object(u.c)(K),n=Object(u.c)(A),t=n.gameLineColumns,a=n.gameLineRows,c=n.bombsNumber,i=t*a,l=Object(u.c)(J),f=Object(u.c)(W),d=Object(u.c)(q),s=Object(u.b)();Object(r.useEffect)((function(){s(F(H(t,a)))}),[]),Object(r.useEffect)((function(){l.filter((function(e){return e.hidden})).length!==c||f||(s(z(!0)),s(B())),!l.filter((function(e){return"bomb"===e.type})).find((function(e){return!1===e.hidden}))||d||f||(s(I(!0)),s(B()))}),[l]);var m=function(e){return[-1*t-1,-1*t,-1*t+1,-1,1,t-1,t,t+1].map((function(n){return n+e}))},b=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(V.a)(l),t=function e(t){!1===n[t].rightClicked&&(n=[].concat(Object(V.a)(n.slice(0,t)),[Object(U.a)(Object(U.a)({},n[t]),{},{hidden:!1})],Object(V.a)(n.slice(t+1))));var r,o=Object(T.a)(m(t));try{for(o.s();!(r=o.n()).done;){var a=r.value;"field"===n[a].type&&0===n[a].bombsAround&&!0===n[a].hidden&&!1===n[a].rightClicked?e(a):!0===n[a].hidden&&!1===n[a].rightClicked&&(n=[].concat(Object(V.a)(n.slice(0,a)),[Object(U.a)(Object(U.a)({},n[a]),{},{hidden:!1})],Object(V.a)(n.slice(a+1))))}}catch(c){o.e(c)}finally{o.f()}};t(e),s(F(n))},p=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(V.a)(l);return m(e).map((function(e){return+("bomb"===n[e].type)})).reduce((function(e,n){return e+n}))},g=function(e){"field"!==l[e].type||function(e){return m(e).map((function(e){return+l[e].rightClicked})).reduce((function(e,n){return e+n}))}(e)!==l[e].bombsAround||l[e].rightClicked||b(e)},h=function(e){for(var n,t=m(e),r=Object(V.a)(l),o=1;o<=c;o++){for(n=Math.floor(Math.random()*i);"field"!==r[n].type||n===e||t.includes(n);)n=Math.floor(Math.random()*i);r=[].concat(Object(V.a)(r.slice(0,n)),[Object(U.a)(Object(U.a)({},r[n]),{},{type:"bomb"})],Object(V.a)(r.slice(n+1)))}!function(e,n){for(var t=0;t<i;t++)"field"===e[t].type&&(e=[].concat(Object(V.a)(e.slice(0,t)),[Object(U.a)(Object(U.a)({},e[t]),{},{bombsAround:p(t,e)})],Object(V.a)(e.slice(t+1))));b(n,e)}(r,e)};return o.a.createElement(ie,{columns:t,rows:a},l.map((function(n){var t=n.bombsAround,r=n.type,a=n.hidden,c=n.id,i=n.rightClicked;return o.a.createElement(ue,{onDoubleClick:function(){return g(c)},onContextMenu:function(e){return e.preventDefault()},key:c,type:r,won:d&&!f},o.a.createElement(le,{hidden:!a,rightClicked:i,onClick:function(){return function(n){return e&&!l[n].rightClicked?(h(n),0):l[n].rightClicked?0:void(0===l[n].bombsAround&&"bomb"!==l[n].type?b(n):s(R(n)))}(c)},onContextMenu:function(e){return function(e,n){e.preventDefault(),s(F([].concat(Object(V.a)(l.slice(0,n)),[Object(U.a)(Object(U.a)({},l[n]),{},{rightClicked:!l[n].rightClicked})],Object(V.a)(l.slice(n+1)))))}(e,c)},disabled:f}),0===t||"border"===r||t)})))};function de(){var e=Object(l.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background-color: ",";\n    color: ",";\n    padding: 10px;\n"]);return de=function(){return e},e}var se=f.d.footer(de(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.text})),me=function(){return o.a.createElement(se,null,"Kalina Jakubowska 2020")};function be(){var e=Object(l.a)(["\n    font-size: 40px;\n    margin: 10px auto;\n    border-right: 3px solid teal;\n    border-left: 3px solid teal;\n    padding: 0px 20px;\n"]);return be=function(){return e},e}var pe=f.d.p(be()),ge=function(){var e=Object(u.c)(q),n=Object(u.c)(W),t=Object(u.c)(K),a=Object(r.useState)({startDate:0,endDate:0}),c=Object(i.a)(a,2),l=c[0],f=c[1],d=Object(r.useRef)(null);return Object(r.useEffect)((function(){(e||n)&&clearInterval(d.current)}),[e,n]),Object(r.useEffect)((function(){if(t)f({startDate:0,endDate:0});else{var e=new Date;d.current=setInterval((function(){f({startDate:e,endDate:new Date})}),10)}return function(){return clearInterval(d.current)}}),[t]),o.a.createElement(pe,null,((l.endDate-l.startDate)/1e3).toFixed(2))};function he(){var e=Object(l.a)(["\n    margin: auto;\n    font-size: 35px;\n"]);return he=function(){return e},e}function ve(){var e=Object(l.a)(["\n    display: grid;\n    grid-template-columns: 20% 1fr 20%;\n    margin: 0 auto;\n    width: ","px;\n    border: 20px solid ",";\n    border-bottom: none;\n    background: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace;\n    font-weight: bold;\n"]);return ve=function(){return e},e}var Oe=f.d.div(ve(),(function(e){return 40*e.columns}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),je=f.d.p(he()),xe=function(){var e=Object(u.c)(A).gameLineColumns,n=Object(u.c)(P);return o.a.createElement(Oe,{columns:e},o.a.createElement(je,null,n),o.a.createElement(ge,null),o.a.createElement(je,null,"X"))};function we(){var e=Object(l.a)(["\nhtml {\n  box-sizing: border-box;\n}\n\n*, ::before, ::after {\n  box-sizing: inherit;\n}\n\nbody {\n  font-family: 'Montserrat', sans-serif;\n  min-height: 100vh;\n  position: relative;\n  font-size: 16px;\n  padding: 50px 0 70px;\n}\n"]);return we=function(){return e},e}var ke=Object(f.b)(we()),ye={color:{first:"teal",second:"#ffffff",text:"#eeeeee",shadow:"#cccccc",loseBomb:"red",winBomb:"green"}};var Ee=function(){return o.a.createElement(f.a,{theme:ye},o.a.createElement(ke,null),o.a.createElement(xe,null),o.a.createElement(fe,null),o.a.createElement(Q,null),o.a.createElement(me,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=Object(G.a)({reducer:{gameData:X}});c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:Ce},o.a.createElement(Ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.b2e949df.chunk.js.map