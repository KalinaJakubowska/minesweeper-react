(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{10:function(e,n,t){e.exports=t.p+"static/media/ico.950a2bdb.ico"},18:function(e,n,t){e.exports=t(25)},25:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),c=t(13),a=t.n(c),i=t(14),u=t(3),l=t(4),f=t(5),s=t(2),b=t(1);function d(){var e=Object(s.a)(["\n    text-align: center;\n"]);return d=function(){return e},e}function m(){var e=Object(s.a)(["\n    background-color: ",";\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    margin-top: 10px;\n\n    &:hover {\n        filter: brightness(120%);\n        border-color: ",";\n    }\n    &:active {\n        filter: brightness(130%);\n    }\n"]);return m=function(){return e},e}function p(){var e=Object(s.a)(["\n    flex-grow: 1;\n    margin-left: 20px;\n"]);return p=function(){return e},e}function g(){var e=Object(s.a)(["\n    display: flex;\n    padding: 10px;\n"]);return g=function(){return e},e}function h(){var e=Object(s.a)(["\n    width: fit-content;\n    text-align: center;\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    font-weight: bold;\n"]);return h=function(){return e},e}function j(){var e=Object(s.a)(["\n        display: none;\n    "]);return j=function(){return e},e}function O(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border: none;\n    border-top: 2px solid ",";\n    box-shadow: 0px 0px 10px 0px ",";\n    margin-top: 10px;\n\n    ","\n"]);return O=function(){return e},e}function v(){var e=Object(s.a)(["\n    width: 100%;\n    max-width: 500px;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n"]);return v=function(){return e},e}var x=b.d.form(v()),k=b.d.fieldset(O(),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.shadow}),(function(e){return e.hidden&&Object(b.c)(j())})),w=b.d.legend(h(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first})),y=b.d.label(g()),E=b.d.input(p()),C=b.d.button(m(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),D=b.d.span(d()),_=function(e){var n=e.getGameProperties,t=e.gameLineColumns,c=e.gameLineRows,a=e.generateFields,i=Object(r.useState)(8),u=Object(f.a)(i,2),l=u[0],s=u[1],b=Object(r.useState)(8),d=Object(f.a)(b,2),m=d[0],p=d[1],g=Object(r.useState)(10),h=Object(f.a)(g,2),j=h[0],O=h[1];Object(r.useEffect)((function(){a()}),[j,t,c]);return o.a.createElement(x,{onSubmit:function(e){e.preventDefault(),n(j,l,m),a()},className:"form"},o.a.createElement(C,{className:"form__button"},"Rozpocznij now\u0105 gr\u0119"),o.a.createElement(k,{className:"form__fieldset"},o.a.createElement(w,{className:"form__legend"},"Zaawansowane opcje"),o.a.createElement(y,{className:"form__label"},"Liczba kolumn",o.a.createElement(E,{required:!0,type:"number",step:"1",min:"5",max:"25",value:l,onChange:function(e){var n=e.target;return s(+n.value)},name:"columnsNumber",className:"form__input"})),o.a.createElement(y,{className:"form__label"},"Liczba wierszy",o.a.createElement(E,{required:!0,type:"number",step:"1",min:"5",max:"20",value:m,onChange:function(e){var n=e.target;return p(+n.value)},name:"rowsNumber",className:"form__input"})),o.a.createElement(y,{className:"form__label"},"Liczba bomb",o.a.createElement(E,{required:!0,type:"number",step:"1",min:"5",max:"300",value:j,onChange:function(e){var n=e.target;return O(+n.value)},name:"bombsNumber",className:"form__input"})),o.a.createElement(D,{className:"form__span"})))},L=t(10),S=t.n(L);function z(){var e=Object(s.a)(["\n    background-image: url(",");\n    background-size: 25px;\n    background-repeat: no-repeat;\n    background-position: center;\n    "]);return z=function(){return e},e}function N(){var e=Object(s.a)(["\n        display: none;\n    "]);return N=function(){return e},e}function G(){var e=Object(s.a)(["\n    display: block;\n    height: 40px;\n    width: 40px;\n    border-radius: 0;\n    background-color: ",";\n    border: 2px outset ",";\n    ","\n\n    ","\n"]);return G=function(){return e},e}function F(){var e=Object(s.a)(["\n        background-color: ",";\n    "]);return F=function(){return e},e}function M(){var e=Object(s.a)(["\n        background-color: ",";\n        background-image: url(",");\n        background-size: 25px;\n        background-repeat: no-repeat;\n        background-position: center;\n    "]);return M=function(){return e},e}function R(){var e=Object(s.a)(["\n    background-color: ",";\n    font-size: 35px;\n    text-align: center;\n    overflow: hidden;\n    user-select: none;\n\n    ","\n\n    ","\n"]);return R=function(){return e},e}function A(){var e=Object(s.a)(["\n    width: fit-content;\n    margin: auto;\n    display: grid;\n    grid-template-columns: repeat(",", 40px);\n    grid-template-rows: repeat(",", 40px);\n"]);return A=function(){return e},e}var B=b.d.div(A(),(function(e){return e.columns}),(function(e){return e.rows})),I=b.d.div(R(),(function(e){return e.theme.color.second}),(function(e){return"bomb"===e.type&&Object(b.c)(M(),(function(e){var n=e.won,t=e.theme;return n?t.color.winBomb:t.color.loseBomb}),S.a)}),(function(e){return"border"===e.type&&Object(b.c)(F(),(function(e){return e.theme.color.first}))})),W=b.d.button(G(),(function(e){return e.theme.color.shadow}),(function(e){return e.theme.color.second}),(function(e){return e.hidden&&Object(b.c)(N())}),(function(e){return e.rightClicked&&Object(b.c)(z(),S.a)})),q=function(e){var n=e.gameFields,t=e.setGameFields,r=e.gameLineColumns,c=e.gameLineRows,a=e.isGameLost,i=e.isGameWon,f=e.checkField,s=e.onDoubleClick;return o.a.createElement(B,{columns:r,rows:c},n.map((function(e){var n=e.bombsAround,r=e.type,c=e.hidden,b=e.id,d=e.rightClicked;return o.a.createElement(I,{onDoubleClick:function(){return s(b)},key:b,type:r,won:i&&!a},o.a.createElement(W,{hidden:!c,rightClicked:d,onClick:function(){return f(b)},onContextMenu:function(e){return function(e,n){e.preventDefault(),t((function(e){return[].concat(Object(u.a)(e.slice(0,n)),[Object(l.a)(Object(l.a)({},e[n]),{},{rightClicked:!e[n].rightClicked})],Object(u.a)(e.slice(n+1)))}))}(e,b)},disabled:a}),0===n||"border"===r||n)})))};function J(){var e=Object(s.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background-color: ",";\n    color: ",";\n    padding: 10px;\n"]);return J=function(){return e},e}var P=b.d.footer(J(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.text})),K=function(){return o.a.createElement(P,null,"Kalina Jakubowska 2020")};function X(){var e=Object(s.a)(["\n    font-size: 40px;\n    margin: 10px auto;\n    border-right: 3px solid teal;\n    border-left: 3px solid teal;\n    padding: 0px 20px;\n"]);return X=function(){return e},e}var Z=b.d.p(X()),$=function(e){var n=e.isGameLost,t=e.isGameWon,c=e.timeData,a=Object(r.useState)(0),i=Object(f.a)(a,2),u=i[0],l=i[1],s=Object(r.useRef)(null);return Object(r.useEffect)((function(){clearInterval(s.current)}),[n,t]),Object(r.useEffect)((function(){return c&&(c.endDate?(clearInterval(s.current),l(c.endDate-c.startDate)):s.current=setInterval((function(){l(new Date-c.startDate)}),10)),function(){return clearInterval(s.current)}}),[c]),o.a.createElement(Z,null,(u/1e3).toFixed(2))};function H(){var e=Object(s.a)(["\n    margin: auto;\n    font-size: 35px;\n"]);return H=function(){return e},e}function Q(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 20% 1fr 20%;\n    margin: 0 auto;\n    width: ","px;\n    border: 20px solid ",";\n    border-bottom: none;\n    background: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace;\n    font-weight: bold;\n"]);return Q=function(){return e},e}var T=b.d.div(Q(),(function(e){return 40*e.columns}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),U=b.d.p(H()),V=function(e){var n=e.bombsLeft,t=e.gameLineColumns,r=e.timeData;return o.a.createElement(T,{columns:t},o.a.createElement(U,null,n),o.a.createElement($,{timeData:r}),o.a.createElement(U,null,"X"))};function Y(){var e=Object(s.a)(["\nhtml {\n  box-sizing: border-box;\n}\n\n*, ::before, ::after {\n  box-sizing: inherit;\n}\n\nbody {\n  font-family: 'Montserrat', sans-serif;\n  min-height: 100vh;\n  position: relative;\n  font-size: 16px;\n  padding: 50px 0 70px;\n}\n"]);return Y=function(){return e},e}var ee=Object(b.b)(Y()),ne={color:{first:"teal",second:"#ffffff",text:"#eeeeee",shadow:"#cccccc",loseBomb:"red",winBomb:"green"}};var te=function(){var e=Object(r.useState)([]),n=Object(f.a)(e,2),t=n[0],c=n[1],a=Object(r.useState)(10),s=Object(f.a)(a,2),d=s[0],m=s[1],p=Object(r.useState)(10),g=Object(f.a)(p,2),h=g[0],j=g[1],O=Object(r.useState)(10),v=Object(f.a)(O,2),x=v[0],k=v[1],w=Object(r.useState)(!1),y=Object(f.a)(w,2),E=y[0],C=y[1],D=Object(r.useState)(!1),L=Object(f.a)(D,2),S=L[0],z=L[1],N=Object(r.useState)(d*h),G=Object(f.a)(N,2),F=G[0],M=G[1],R=Object(r.useState)(!0),A=Object(f.a)(R,2),B=A[0],I=A[1],W=Object(r.useState)(10),J=Object(f.a)(W,2),P=J[0],X=J[1],Z=Object(r.useState)(),$=Object(f.a)(Z,2),H=$[0],Q=$[1];Object(r.useEffect)((function(){S||X(x-t.filter((function(e){return e.rightClicked})).length),t.filter((function(e){return e.hidden})).length!==x||E||(z(!0),X(0),te(),Q(Object(l.a)(Object(l.a)({},H),{},{endDate:new Date}))),!t.filter((function(e){return"bomb"===e.type})).find((function(e){return!1===e.hidden}))||S||E||(C(!0),te(),Q(Object(l.a)(Object(l.a)({},H),{},{endDate:new Date})))}),[t]);var T=function(e){return[-1*d-1,-1*d,-1*d+1,-1,1,d-1,d,d+1].map((function(n){return n+e}))},U=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.a)(t),r=function e(t){!1===n[t].rightClicked&&(n=[].concat(Object(u.a)(n.slice(0,t)),[Object(l.a)(Object(l.a)({},n[t]),{},{hidden:!1})],Object(u.a)(n.slice(t+1))));var r,o=Object(i.a)(T(t));try{for(o.s();!(r=o.n()).done;){var c=r.value;"field"===n[c].type&&0===n[c].bombsAround&&!0===n[c].hidden&&!1===n[c].rightClicked?e(c):!0===n[c].hidden&&!1===n[c].rightClicked&&(n=[].concat(Object(u.a)(n.slice(0,c)),[Object(l.a)(Object(l.a)({},n[c]),{},{hidden:!1})],Object(u.a)(n.slice(c+1))))}}catch(a){o.e(a)}finally{o.f()}};r(e),c(n)},Y=function(e){c((function(n){return[].concat(Object(u.a)(n.slice(0,e)),[Object(l.a)(Object(l.a)({},n[e]),{},{hidden:!1})],Object(u.a)(n.slice(e+1)))}))},te=function(){for(var e=0;e<F;e++)"bomb"===t[e].type&&Y(e)},re=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.a)(t);return T(e).map((function(e){return+("bomb"===n[e].type)})).reduce((function(e,n){return e+n}))},oe=function(e){for(var n,r=T(e),o=Object(u.a)(t),c=1;c<=x;c++){for(n=Math.floor(Math.random()*F);"field"!==o[n].type||n===e||r.includes(n);)n=Math.floor(Math.random()*F);o=[].concat(Object(u.a)(o.slice(0,n)),[Object(l.a)(Object(l.a)({},o[n]),{},{type:"bomb"})],Object(u.a)(o.slice(n+1)))}!function(e,n){for(var t=0;t<F;t++)"field"===e[t].type&&(e=[].concat(Object(u.a)(e.slice(0,t)),[Object(l.a)(Object(l.a)({},e[t]),{},{bombsAround:re(t,e)})],Object(u.a)(e.slice(t+1))));U(n,e)}(o,e)},ce=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];c((function(o){return[].concat(Object(u.a)(o),[{id:o.length,type:e,hidden:n,bombsAround:t,rightClicked:r}])}))};return o.a.createElement(b.a,{theme:ne},o.a.createElement(ee,null),o.a.createElement(V,{bombsLeft:P,gameLineColumns:d,timeData:H}),o.a.createElement(q,{gameFields:t,setGameFields:c,gameLineColumns:d,gameLineRows:h,isGameLost:E,isGameWon:S,checkField:function(e){return B&&!t[e].rightClicked?(oe(e),I(!1),Q({startDate:new Date}),0):t[e].rightClicked?0:void(0===t[e].bombsAround&&"bomb"!==t[e].type?U(e):Y(e))},onDoubleClick:function(e){"field"!==t[e].type||function(e){return T(e).map((function(e){return+t[e].rightClicked})).reduce((function(e,n){return e+n}))}(e)!==t[e].bombsAround||t[e].rightClicked||U(e)}}),o.a.createElement(_,{getGameProperties:function(e,n,t){m(n+2),j(t+2),k(e),C(!1),z(!1),I(!0),M((n+2)*(t+2))},gameLineColumns:d,gameLineRows:h,generateFields:function(){c([]);for(var e=0;e<h;e++)for(var n=0;n<d;n++)0===n||n===d-1||0===e||e===h-1?ce("border",!1):ce("field",!0,0)}}),o.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.913154df.chunk.js.map