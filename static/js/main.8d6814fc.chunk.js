(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{10:function(e,n,t){e.exports=t.p+"static/media/ico.950a2bdb.ico"},18:function(e,n,t){e.exports=t(25)},25:function(e,n,t){"use strict";t.r(n);var r=t(0),o=t.n(r),a=t(13),c=t.n(a),i=t(14),u=t(4),l=t(5),f=t(3),s=t(2),d=t(1);function m(){var e=Object(s.a)(["\n    text-align: center;\n"]);return m=function(){return e},e}function b(){var e=Object(s.a)(["\n    background-color: ",";\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    margin-top: 10px;\n\n    &:hover {\n        filter: brightness(120%);\n        border-color: ",";\n    }\n    &:active {\n        filter: brightness(130%);\n    }\n"]);return b=function(){return e},e}function p(){var e=Object(s.a)(["\n    flex-grow: 1;\n    margin-left: 20px;\n"]);return p=function(){return e},e}function g(){var e=Object(s.a)(["\n    display: flex;\n    padding: 10px;\n"]);return g=function(){return e},e}function h(){var e=Object(s.a)(["\n    width: fit-content;\n    text-align: center;\n    border: 2px solid ",";\n    color: ",";\n    padding: 10px;\n    font-weight: bold;\n"]);return h=function(){return e},e}function j(){var e=Object(s.a)(["\n        display: none;\n    "]);return j=function(){return e},e}function O(){var e=Object(s.a)(["\n    display: flex;\n    flex-direction: column;\n    background-color: ",";\n    border: none;\n    border-top: 2px solid ",";\n    box-shadow: 0px 0px 10px 0px ",";\n    margin-top: 10px;\n\n    ","\n"]);return O=function(){return e},e}function v(){var e=Object(s.a)(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    grid-gap: 10px;\n"]);return v=function(){return e},e}function x(){var e=Object(s.a)(["\n    width: 100%;\n    max-width: 500px;\n    margin: auto;\n    display: flex;\n    flex-direction: column;\n"]);return x=function(){return e},e}var k=d.d.form(x()),w=d.d.div(v()),E=d.d.fieldset(O(),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.shadow}),(function(e){return e.hidden&&Object(d.c)(j())})),y=d.d.legend(h(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first})),C=d.d.label(g()),D=d.d.input(p()),L=d.d.button(b(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),_=d.d.span(m()),N=function(e,n){var t=Object(r.useState)((function(){return null===localStorage.getItem(e)?n:JSON.parse(localStorage.getItem(e))})),o=Object(f.a)(t,2),a=o[0],c=o[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[a]),[a,c]},S=function(e){var n=e.getGameProperties,t=e.gameLineColumns,a=e.gameLineRows,c=e.generateFields,i=N("innerLineColumns",8),u=Object(f.a)(i,2),l=u[0],s=u[1],d=N("innerLineRows",8),m=Object(f.a)(d,2),b=m[0],p=m[1],g=N("bombsNumberForm",10),h=Object(f.a)(g,2),j=h[0],O=h[1],v=N("isDisabled",!0),x=Object(f.a)(v,2),S=x[0],z=x[1];Object(r.useEffect)((function(){c()}),[j,t,a]);var R=function(e,n,t,r){if(4===r)return z(!1),0;z(!0),s(e),p(n),O(t)};return o.a.createElement(k,{onSubmit:function(e){e.preventDefault(),n(j,l,b),c()},className:"form"},o.a.createElement(L,{className:"form__button"},"Rozpocznij now\u0105 gr\u0119"),o.a.createElement(E,{className:"form__fieldset"},o.a.createElement(y,{className:"form__legend"},"Zaawansowane opcje"),o.a.createElement(w,null,o.a.createElement(L,{onClick:function(){return R(8,8,10,1)}},"Easy"),o.a.createElement(L,{onClick:function(){return R(16,16,40,2)}},"Medium"),o.a.createElement(L,{onClick:function(){return R(30,16,99,3)}},"Expert"),o.a.createElement(L,{onClick:function(){return R(8,8,10,4)}},"Custom")),o.a.createElement(C,{className:"form__label"},"Liczba kolumn",o.a.createElement(D,{disabled:S,required:!0,type:"number",step:"1",min:"5",max:"30",value:l,onChange:function(e){var n=e.target;return s(+n.value)},name:"columnsNumber",className:"form__input"})),o.a.createElement(C,{className:"form__label"},"Liczba wierszy",o.a.createElement(D,{disabled:S,required:!0,type:"number",step:"1",min:"5",max:"16",value:b,onChange:function(e){var n=e.target;return p(+n.value)},name:"rowsNumber",className:"form__input"})),o.a.createElement(C,{className:"form__label"},"Liczba bomb",o.a.createElement(D,{disabled:S,required:!0,type:"number",step:"1",min:"5",max:"300",value:j,onChange:function(e){var n=e.target;return O(+n.value)},name:"bombsNumber",className:"form__input"})),o.a.createElement(_,{className:"form__span"})))},z=t(10),R=t.n(z);function F(){var e=Object(s.a)(["\n    background-image: url(",");\n    background-size: 25px;\n    background-repeat: no-repeat;\n    background-position: center;\n    "]);return F=function(){return e},e}function G(){var e=Object(s.a)(["\n        display: none;\n    "]);return G=function(){return e},e}function M(){var e=Object(s.a)(["\n    display: block;\n    height: 40px;\n    width: 40px;\n    border-radius: 0;\n    background-color: ",";\n    border: 2px outset ",";\n    ","\n\n    ","\n"]);return M=function(){return e},e}function I(){var e=Object(s.a)(["\n        background-color: ",";\n    "]);return I=function(){return e},e}function A(){var e=Object(s.a)(["\n        background-color: ",";\n        background-image: url(",");\n        background-size: 25px;\n        background-repeat: no-repeat;\n        background-position: center;\n    "]);return A=function(){return e},e}function B(){var e=Object(s.a)(["\n    background-color: ",";\n    font-size: 35px;\n    text-align: center;\n    overflow: hidden;\n    user-select: none;\n\n    ","\n\n    ","\n"]);return B=function(){return e},e}function J(){var e=Object(s.a)(["\n    width: fit-content;\n    margin: auto;\n    display: grid;\n    grid-template-columns: repeat(",", 40px);\n    grid-template-rows: repeat(",", 40px);\n"]);return J=function(){return e},e}var W=d.d.div(J(),(function(e){return e.columns}),(function(e){return e.rows})),T=d.d.div(B(),(function(e){return e.theme.color.second}),(function(e){return"bomb"===e.type&&Object(d.c)(A(),(function(e){var n=e.won,t=e.theme;return n?t.color.winBomb:t.color.loseBomb}),R.a)}),(function(e){return"border"===e.type&&Object(d.c)(I(),(function(e){return e.theme.color.first}))})),q=d.d.button(M(),(function(e){return e.theme.color.shadow}),(function(e){return e.theme.color.second}),(function(e){return e.hidden&&Object(d.c)(G())}),(function(e){return e.rightClicked&&Object(d.c)(F(),R.a)})),P=function(e){var n=e.gameFields,t=e.setGameFields,r=e.gameLineColumns,a=e.gameLineRows,c=e.isGameLost,i=e.isGameWon,f=e.checkField,s=e.onDoubleClick;return o.a.createElement(W,{columns:r,rows:a},n.map((function(e){var n=e.bombsAround,r=e.type,a=e.hidden,d=e.id,m=e.rightClicked;return o.a.createElement(T,{onDoubleClick:function(){return s(d)},onContextMenu:function(e){return e.preventDefault()},key:d,type:r,won:i&&!c},o.a.createElement(q,{hidden:!a,rightClicked:m,onClick:function(){return f(d)},onContextMenu:function(e){return function(e,n){e.preventDefault(),t((function(e){return[].concat(Object(u.a)(e.slice(0,n)),[Object(l.a)(Object(l.a)({},e[n]),{},{rightClicked:!e[n].rightClicked})],Object(u.a)(e.slice(n+1)))}))}(e,d)},disabled:c}),0===n||"border"===r||n)})))};function K(){var e=Object(s.a)(["\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    text-align: center;\n    font-size: 14px;\n    background-color: ",";\n    color: ",";\n    padding: 10px;\n"]);return K=function(){return e},e}var X=d.d.footer(K(),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.text})),Z=function(){return o.a.createElement(X,null,"Kalina Jakubowska 2020")};function $(){var e=Object(s.a)(["\n    font-size: 40px;\n    margin: 10px auto;\n    border-right: 3px solid teal;\n    border-left: 3px solid teal;\n    padding: 0px 20px;\n"]);return $=function(){return e},e}var H=d.d.p($()),Q=function(e){var n=e.isGameLost,t=e.isGameWon,a=e.timeData,c=e.time,i=e.setTime,u=e.intervalRef;return Object(r.useEffect)((function(){clearInterval(u.current)}),[n,t]),Object(r.useEffect)((function(){return a&&(a.endDate?(clearInterval(u.current),i(a.endDate-a.startDate)):u.current=setInterval((function(){i(new Date-a.startDate)}),10)),function(){return clearInterval(u.current)}}),[a]),o.a.createElement(H,null,(c/1e3).toFixed(2))};function U(){var e=Object(s.a)(["\n    margin: auto;\n    font-size: 35px;\n"]);return U=function(){return e},e}function V(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 20% 1fr 20%;\n    margin: 0 auto;\n    width: ","px;\n    border: 20px solid ",";\n    border-bottom: none;\n    background: ",";\n    color: ",";\n    font-family: 'Roboto Mono', monospace;\n    font-weight: bold;\n"]);return V=function(){return e},e}var Y=d.d.div(V(),(function(e){return 40*e.columns}),(function(e){return e.theme.color.first}),(function(e){return e.theme.color.second}),(function(e){return e.theme.color.first})),ee=d.d.p(U()),ne=function(e){var n=e.bombsLeft,t=e.gameLineColumns,r=e.timeData,a=e.time,c=e.setTime,i=e.intervalRef;return o.a.createElement(Y,{columns:t},o.a.createElement(ee,null,n),o.a.createElement(Q,{timeData:r,time:a,setTime:c,intervalRef:i}),o.a.createElement(ee,null,"X"))};function te(){var e=Object(s.a)(["\nhtml {\n  box-sizing: border-box;\n}\n\n*, ::before, ::after {\n  box-sizing: inherit;\n}\n\nbody {\n  font-family: 'Montserrat', sans-serif;\n  min-height: 100vh;\n  position: relative;\n  font-size: 16px;\n  padding: 50px 0 70px;\n}\n"]);return te=function(){return e},e}var re=Object(d.b)(te()),oe={color:{first:"teal",second:"#ffffff",text:"#eeeeee",shadow:"#cccccc",loseBomb:"red",winBomb:"green"}};var ae=function(){var e=Object(r.useState)([]),n=Object(f.a)(e,2),t=n[0],a=n[1],c=N("gameLineColumns",10),s=Object(f.a)(c,2),m=s[0],b=s[1],p=N("gameLineRows",10),g=Object(f.a)(p,2),h=g[0],j=g[1],O=N("bombsNumber",10),v=Object(f.a)(O,2),x=v[0],k=v[1],w=Object(r.useState)(!1),E=Object(f.a)(w,2),y=E[0],C=E[1],D=Object(r.useState)(!1),L=Object(f.a)(D,2),_=L[0],z=L[1],R=Object(r.useState)(m*h),F=Object(f.a)(R,2),G=F[0],M=F[1],I=Object(r.useState)(!0),A=Object(f.a)(I,2),B=A[0],J=A[1],W=Object(r.useState)(10),T=Object(f.a)(W,2),q=T[0],K=T[1],X=Object(r.useState)(),$=Object(f.a)(X,2),H=$[0],Q=$[1],U=Object(r.useState)(0),V=Object(f.a)(U,2),Y=V[0],ee=V[1],te=Object(r.useRef)(null);Object(r.useEffect)((function(){_||K(x-t.filter((function(e){return e.rightClicked})).length),t.filter((function(e){return e.hidden})).length!==x||y||(z(!0),K(0),ue(),Q(Object(l.a)(Object(l.a)({},H),{},{endDate:new Date}))),!t.filter((function(e){return"bomb"===e.type})).find((function(e){return!1===e.hidden}))||_||y||(C(!0),ue(),Q(Object(l.a)(Object(l.a)({},H),{},{endDate:new Date})))}),[t]);var ae=function(e){return[-1*m-1,-1*m,-1*m+1,-1,1,m-1,m,m+1].map((function(n){return n+e}))},ce=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.a)(t),r=function e(t){!1===n[t].rightClicked&&(n=[].concat(Object(u.a)(n.slice(0,t)),[Object(l.a)(Object(l.a)({},n[t]),{},{hidden:!1})],Object(u.a)(n.slice(t+1))));var r,o=Object(i.a)(ae(t));try{for(o.s();!(r=o.n()).done;){var a=r.value;"field"===n[a].type&&0===n[a].bombsAround&&!0===n[a].hidden&&!1===n[a].rightClicked?e(a):!0===n[a].hidden&&!1===n[a].rightClicked&&(n=[].concat(Object(u.a)(n.slice(0,a)),[Object(l.a)(Object(l.a)({},n[a]),{},{hidden:!1})],Object(u.a)(n.slice(a+1))))}}catch(c){o.e(c)}finally{o.f()}};r(e),a(n)},ie=function(e){a((function(n){return[].concat(Object(u.a)(n.slice(0,e)),[Object(l.a)(Object(l.a)({},n[e]),{},{hidden:!1})],Object(u.a)(n.slice(e+1)))}))},ue=function(){for(var e=0;e<G;e++)"bomb"===t[e].type&&ie(e)},le=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(u.a)(t);return ae(e).map((function(e){return+("bomb"===n[e].type)})).reduce((function(e,n){return e+n}))},fe=function(e){for(var n,r=ae(e),o=Object(u.a)(t),a=1;a<=x;a++){for(n=Math.floor(Math.random()*G);"field"!==o[n].type||n===e||r.includes(n);)n=Math.floor(Math.random()*G);o=[].concat(Object(u.a)(o.slice(0,n)),[Object(l.a)(Object(l.a)({},o[n]),{},{type:"bomb"})],Object(u.a)(o.slice(n+1)))}!function(e,n){for(var t=0;t<G;t++)"field"===e[t].type&&(e=[].concat(Object(u.a)(e.slice(0,t)),[Object(l.a)(Object(l.a)({},e[t]),{},{bombsAround:le(t,e)})],Object(u.a)(e.slice(t+1))));ce(n,e)}(o,e)},se=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];a((function(o){return[].concat(Object(u.a)(o),[{id:o.length,type:e,hidden:n,bombsAround:t,rightClicked:r}])}))};return o.a.createElement(d.a,{theme:oe},o.a.createElement(re,null),o.a.createElement(ne,{bombsLeft:q,gameLineColumns:m,timeData:H,time:Y,setTime:ee,intervalRef:te}),o.a.createElement(P,{gameFields:t,setGameFields:a,gameLineColumns:m,gameLineRows:h,isGameLost:y,isGameWon:_,checkField:function(e){return B&&!t[e].rightClicked?(fe(e),J(!1),Q({startDate:new Date}),0):t[e].rightClicked?0:void(0===t[e].bombsAround&&"bomb"!==t[e].type?ce(e):ie(e))},onDoubleClick:function(e){"field"!==t[e].type||function(e){return ae(e).map((function(e){return+t[e].rightClicked})).reduce((function(e,n){return e+n}))}(e)!==t[e].bombsAround||t[e].rightClicked||ce(e)}}),o.a.createElement(S,{getGameProperties:function(e,n,t){b(n+2),j(t+2),k(e),C(!1),z(!1),J(!0),M((n+2)*(t+2)),ee(0),clearInterval(te.current)},gameLineColumns:m,gameLineRows:h,generateFields:function(){a([]);for(var e=0;e<h;e++)for(var n=0;n<m;n++)0===n||n===m-1||0===e||e===h-1?se("border",!1):se("field",!0,0)}}),o.a.createElement(Z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.8d6814fc.chunk.js.map